(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{210:function(e,a,t){"use strict";t.r(a);var n=t(8),l=t(0),r=t.n(l),c=t(150),i=t(154),o=t(153),m=t(149),u=t(151),g=t(152),s=t(148),h=t(17),E=t(217),d=t(221),f=t(219),p=t(220),b=t(203),O=t(208),j=t(5),k=function(e){var a=e.handleClose,t=e.open,n=e.flightId,l=Object(j.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{open:t,keepMounted:!0,onClose:a,"aria-describedby":"alert-dialog-slide-description"},r.a.createElement(b.a,null,"Do you want to book this flight ?"),r.a.createElement(f.a,null,r.a.createElement(p.a,{id:"alert-dialog-slide-description"},"Please confirme the flight.")),r.a.createElement(d.a,null,r.a.createElement(O.a,{onClick:a},"Disagree"),r.a.createElement(O.a,{onClick:function(){a(),l("/flight/".concat(n))}},"Agree"))))},C=function(e){var a=e.flight,t=Object(l.useState)(!1),E=Object(n.a)(t,2),d=E[0],f=E[1],p=Object(l.useState)(null),b=Object(n.a)(p,2),O=b[0],j=b[1],C=function(){f(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{component:s.a},r.a.createElement(c.a,{sx:{minWidth:650},"aria-label":"simple table"},r.a.createElement(u.a,null,r.a.createElement(g.a,null,r.a.createElement(o.a,null,"Ref"),r.a.createElement(o.a,{align:"right"},"Airline"),r.a.createElement(o.a,{align:"right"},"From"),r.a.createElement(o.a,{align:"right"},"to"),r.a.createElement(o.a,{align:"right"},"Date"),r.a.createElement(o.a,{align:"right"},"Time"),r.a.createElement(o.a,{align:"right"},"Economy"),r.a.createElement(o.a,{align:"right"},"Business"),r.a.createElement(o.a,{align:"right"},"Action"))),r.a.createElement(i.a,null,a.map(function(e){return r.a.createElement(g.a,{key:e._id,sx:{"&:last-child td, &:last-child th":{border:0}}},r.a.createElement(o.a,{component:"th",scope:"row"},e.name),r.a.createElement(o.a,{align:"right"},e.airplane),r.a.createElement(o.a,{align:"right"},e.from.toUpperCase()),r.a.createElement(o.a,{align:"right"},e.to.toUpperCase()),r.a.createElement(o.a,{align:"right"},new Date(e.departurDate).toLocaleDateString("fr-FR")),r.a.createElement(o.a,{align:"right"},e.departurTime),r.a.createElement(o.a,{align:"right"},e.maxEconomy),r.a.createElement(o.a,{align:"right"},e.maxBusiness),r.a.createElement(o.a,{align:"right"},r.a.createElement(h.b,{to:"/"},r.a.createElement("button",{className:"btn btn-block booking",onClick:function(){var a;C(),a=e._id,j(a)}},"Booking"))))})))),r.a.createElement(k,{handleOpen:C,handleClose:function(){f(!1)},open:d,flightId:O}))},v=function(e){var a=e.handleSearch;return r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",placeholder:"Search..",onChange:a}))},w=t(9),S=t(27),y=function(e){for(var a=e.totalFlight,t=e.flightPerPage,n=e.paginate,l=[],c=1;c<=Math.ceil(a/t);c++)l.push(c);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},l.map(function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return n(e)}},e))})))};a.default=function(){var e=Object(w.b)(),a=Object(w.c)(function(e){return e.flight}),t=a.flights,c=a.loading,i=a.error,o=Object(l.useState)(""),m=Object(n.a)(o,2),u=m[0],g=m[1],s=Object(l.useState)(1),h=Object(n.a)(s,2),E=h[0],d=h[1],f=Object(l.useState)(5),p=Object(n.a)(f,1)[0];Object(l.useEffect)(function(){i&&console.log(i),e(Object(S.b)())},[e]);var b,O=E*p,k=O-p,D=t.slice(k,O);return c?r.a.createElement("div",null,"Loading..."):r.a.createElement("section",{className:"dashboard-container"},r.a.createElement("h1",null,"All Flights"),r.a.createElement(v,{handleSearch:function(e){e.preventDefault(),g(e.target.value)}}),r.a.createElement(C,{flight:(b=D,b.filter(function(e){return e.name.toLowerCase().includes(u)||e.airplane.toLowerCase().includes(u)||e.from.toLowerCase().includes(u)||e.to.toLowerCase().includes(u)}))}),r.a.createElement(y,{totalFlight:t.length,flightPerPage:p,paginate:function(e){return d(e)}}),r.a.createElement(j.b,null))}}}]);
//# sourceMappingURL=5.ae7f9f08.chunk.js.map